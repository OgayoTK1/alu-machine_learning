#!/usr/bin/env python3
"""
7. Partial truths are often more insidious than total falsehoods

Mandatory task introducing partial derivatives in multivariable calculus.

The quote highlights that partial derivatives give a "partial truth" — the rate
of change with respect to one variable while holding all others fixed.
This can be misleading without considering the full picture (the gradient).

In machine learning, partial derivatives are essential for computing gradients
in high-dimensional spaces (e.g., backpropagation).

This module provides two numerical methods to approximate the partial
derivatives of a function f(x, y) at a point (x, y):

- forward_partial_derivatives: Simple forward difference (basic approximation)
- central_partial_derivatives: Central difference (higher accuracy, recommended)
"""

def forward_partial_derivatives(f, x, y, h=1e-5):
    """
    Approximate the partial derivatives of f(x, y) using forward differences.

    Formulas:
        ∂f/∂x ≈ [f(x + h, y) - f(x, y)] / h
        ∂f/∂y ≈ [f(x, y + h) - f(x, y)] / h

    Args:
        f (callable): Function taking two floats (x, y) and returning a float.
        x (float): x-coordinate of the evaluation point.
        y (float): y-coordinate of the evaluation point.
        h (float, optional): Step size. Default 1e-5.

    Returns:
        tuple: (approx_∂f/∂x, approx_∂f/∂y)
    """
    df_dx = (f(x + h, y) - f(x, y)) / h
    df_dy = (f(x, y + h) - f(x, y)) / h
    return df_dx, df_dy


def central_partial_derivatives(f, x, y, h=1e-7):
    """
    Approximate the partial derivatives of f(x, y) using central differences
    (more accurate than forward difference).

    Formulas:
        ∂f/∂x ≈ [f(x + h, y) - f(x - h, y)] / (2 * h)
        ∂f/∂y ≈ [f(x, y + h) - f(x, y - h)] / (2 * h)

    Args:
        f (callable): Function taking two floats (x, y) and returning a float.
        x (float): x-coordinate of the evaluation point.
        y (float): y-coordinate of the evaluation point.
        h (float, optional): Step size. Default 1e-7.

    Returns:
        tuple: (approx_∂f/∂x, approx_∂f/∂y)
    """
    df_dx = (f(x + h, y) - f(x - h, y)) / (2 * h)
    df_dy = (f(x, y + h) - f(x, y - h)) / (2 * h)
    return df_dx, df_dy
