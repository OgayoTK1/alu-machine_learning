#!/usr/bin/env python3
"""
14. My talents fall within definite limitations

Mandatory task implementing the definite integral of 1/x (the logarithm).

The definite integral ∫_a^b (1/x) dx = ln|b| - ln|a| = ln|b/a|,

provided the interval [min(a,b), max(a,b)] does not contain 0
(i.e., a and b have the same sign and neither is zero).

If the interval contains 0 (or touches 0 except when a == b),
the improper integral diverges → return None ("undefined").

Special case: if a == b, the integral is 0 (even if a = b = 0).

This matches the illustrative cases:
- Certain intervals → 1 or approx 1.0
- Reversed positive intervals → -1 or approx -1.0
- a == b → 0
- Intervals crossing/touching 0 → undefined (None)
"""

import math


def definite_integral(lower, upper):
    """
    Compute the definite integral of 1/x from lower to upper.

    Args:
        lower (int or float): Lower bound of integration.
        upper (int or float): Upper bound of integration.

    Returns:
        float: Exact value of the definite integral when defined.
        None: If the integral diverges (interval contains or touches 0,
              except when lower == upper) or if inputs are invalid.
    """
    if not isinstance(lower, (int, float)) or not isinstance(upper, (int, float)):
        return None

    if lower == upper:
        return 0.0

    min_val = min(lower, upper)
    max_val = max(lower, upper)

    if min_val <= 0 <= max_val:
        return None

    return math.log(abs(upper)) - math.log(abs(lower))
