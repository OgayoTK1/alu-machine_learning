#!/usr/bin/env python3
"""
3. The Greeks pronounce it pEE

Mandatory task exploring the product notation (Π, pronounced "pee" by the Greeks).

This module demonstrates special cases and properties of the product notation,
reinforcing that the index variable is a dummy variable (can be any letter).

Illustrative examples:
1. ∏_{k=1}^{10} k = 10!
2. ∏_{k=1}^{9} k = 9!
3. ∏_{k=100}^{100} k = 100                  (single-term product)
4. ∏_{k=-1}^{1} k = (-1) × 0 × 1 = 0         (product including 0 is 0)

By convention:
- Empty product (start > end) = 1
- Product over any range containing 0 = 0

The functions compute the product of consecutive integers from 'start' to 'end'
(inclusive) and handle all integer cases correctly.
"""

def _factorial(n):
    """Helper: compute n! for n >= 0 (returns 1 for n=0)."""
    if n <= 1:
        return 1
    total = 1
    for i in range(2, n + 1):
        total *= i
    return total


def product_loop(start, end):
    """
    Compute the product of consecutive integers from start to end (inclusive)
    using a for loop (direct simulation of Π).

    Args:
        start (int): Starting integer.
        end (int): Ending integer.

    Returns:
        int: The product (1 for empty range, 0 if 0 is included).
    """
    total = 1
    for i in range(start, end + 1):
        total *= i
    return total


def product_formula(start, end):
    """
    Compute the product of consecutive integers from start to end (inclusive)
    using a closed-form expression (ratio of factorials) when possible.

    Args:
        start (int): Starting integer.
        end (int): Ending integer.

    Returns:
        int: The product (1 for empty range, 0 if 0 is included).
    """
    if start > end:
        return 1
    if start <= 0 <= end:
        return 0
    if start < 1:
        # Fall back to loop for negatives or ranges not covered by factorial
        return product_loop(start, end)
    # Positive range starting at >=1, no zero: use factorial ratio
    return _factorial(end) // _factorial(start - 1)
